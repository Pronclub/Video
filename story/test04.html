<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SparkConnect | Modern Dating 2026</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #ff2e63;
            --secondary: #ff7b9c;
            --accent: #ffb3c6;
            --dark: #1a1a2e;
            --light: #f8f9fa;
            --success: #4cc9f0;
            --warning: #f8961e;
            --text: #2b2d42;
            --card-bg: rgba(255, 255, 255, 0.98);
            --chat-bg: #f5f7fa;
            --message-them: #ffffff;
            --message-me: #ffebf1;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        @font-face {
            font-family: 'Neue Montreal';
            src: url('https://fonts.cdnfonts.com/css/neue-montreal') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        body {
            font-family: 'Neue Montreal', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #fff5f7 0%, #f8f9fa 100%);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* App Layout */
        .app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            max-width: 100vw;
            overflow: hidden;
        }

        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 15px rgba(255, 46, 99, 0.2);
            position: relative;
            z-index: 10;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo i {
            font-size: 1.8rem;
        }

        .header-actions {
            display: flex;
            gap: 1rem;
        }

        .header-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: 350px;
            background: white;
            border-right: 1px solid rgba(0, 0, 0, 0.05);
            height: calc(100vh - 60px);
            overflow-y: auto;
            transition: transform 0.3s;
            z-index: 5;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                width: 80%;
                height: 100%;
                transform: translateX(-100%);
            }
            .sidebar.active {
                transform: translateX(0);
            }
        }

        /* Search */
        .search-container {
            padding: 1rem;
            position: relative;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        #search {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: none;
            border-radius: 25px;
            background: var(--chat-bg);
            font-size: 0.9rem;
        }

        .search-icon {
            position: absolute;
            left: 1.8rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
        }

        /* Matches List */
        .matches-list {
            padding: 0.5rem;
        }

        .match-card {
            display: flex;
            align-items: center;
            padding: 0.8rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .match-card:hover, .match-card.active {
            background: var(--accent);
        }

        .match-card.active::after {
            content: "";
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: var(--primary);
        }

        .match-img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 1rem;
            border: 2px solid var(--primary);
        }

        .match-info {
            flex: 1;
        }

        .match-name {
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .match-last-msg {
            font-size: 0.8rem;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 200px;
        }

        .match-meta {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .match-time {
            font-size: 0.7rem;
            color: #999;
        }

        .match-unread {
            background: var(--primary);
            color: white;
            font-size: 0.7rem;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0.3rem;
        }

        /* Chat Area */
        .chat-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--chat-bg);
            position: relative;
        }

        .chat-header {
            padding: 1rem;
            background: white;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-partner {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .chat-partner-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary);
        }

        .chat-partner-name {
            font-weight: 600;
        }

        .chat-partner-status {
            font-size: 0.8rem;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .chat-actions {
            display: flex;
            gap: 0.5rem;
        }

        .chat-action-btn {
            background: none;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .chat-action-btn:hover {
            background: rgba(255, 46, 99, 0.1);
        }

        /* Messages */
        .messages-container {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .message {
            max-width: 70%;
            padding: 0.8rem 1rem;
            border-radius: 15px;
            position: relative;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message-them {
            align-self: flex-start;
            background: var(--message-them);
            border-top-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .message-me {
            align-self: flex-end;
            background: var(--message-me);
            border-bottom-right-radius: 5px;
            box-shadow: 0 2px 5px rgba(255, 46, 99, 0.1);
        }

        .message-time {
            font-size: 0.7rem;
            color: #999;
            margin-top: 0.3rem;
            text-align: right;
        }

        /* Message Input */
        .message-input-container {
            padding: 1rem;
            background: white;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            gap: 0.5rem;
        }

        .message-input {
            flex: 1;
            padding: 0.8rem 1rem;
            border: none;
            border-radius: 25px;
            background: var(--chat-bg);
            font-size: 0.9rem;
            resize: none;
            max-height: 120px;
        }

        .send-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .send-btn:hover {
            background: var(--secondary);
            transform: scale(1.05);
        }

        /* Profile View */
        .profile-view {
            position: absolute;
            top: 0;
            right: 0;
            width: 350px;
            height: 100%;
            background: white;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.05);
            transform: translateX(100%);
            transition: transform 0.3s;
            z-index: 10;
            overflow-y: auto;
        }

        .profile-view.active {
            transform: translateX(0);
        }

        .profile-header {
            height: 200px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            position: relative;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 1rem;
        }

        .profile-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid white;
            position: absolute;
            bottom: -50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .profile-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .profile-body {
            padding: 4rem 1.5rem 1.5rem;
        }

        .profile-name {
            font-size: 1.5rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .profile-age {
            color: #666;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .profile-bio {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .profile-section {
            margin-bottom: 1.5rem;
        }

        .section-title {
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .profile-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .detail-item {
            margin-bottom: 0.8rem;
        }

        .detail-label {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.2rem;
        }

        .detail-value {
            font-weight: 500;
        }

        .profile-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .action-btn {
            flex: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .primary-btn {
            background: var(--primary);
            color: white;
        }

        .primary-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .secondary-btn {
            background: rgba(255, 46, 99, 0.1);
            color: var(--primary);
        }

        .secondary-btn:hover {
            background: rgba(255, 46, 99, 0.2);
        }

        /* Mobile Menu Toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }
            .header-actions .header-btn:nth-child(1) {
                display: none;
            }
        }

        /* Empty State */
        .empty-chat {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 2rem;
            text-align: center;
            color: #666;
        }

        .empty-chat i {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .empty-chat h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.8rem 1rem;
            background: white;
            border-radius: 15px;
            border-top-left-radius: 5px;
            width: fit-content;
            margin-bottom: 0.8rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: #ccc;
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); background: var(--primary); }
        }

        /* Content Protection */
        .protected {
            user-select: none;
            -webkit-user-select: none;
        }

        .no-right-click {
            pointer-events: none;
        }
    </style>
</head>
<body class="protected">
    <div class="app-container">
        <header class="app-header">
            <button class="mobile-menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="logo">
                <i class="fas fa-heart"></i>
                <span>SparkConnect</span>
            </div>
            <div class="header-actions">
                <button class="header-btn">
                    <i class="fas fa-search"></i>
                </button>
                <button class="header-btn">
                    <i class="fas fa-ellipsis-vertical"></i>
                </button>
            </div>
        </header>

        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="search" placeholder="Search matches...">
                </div>

                <div class="matches-list">
                    <!-- Match cards will be generated by JavaScript -->
                </div>
            </div>

            <!-- Chat Area -->
            <div class="chat-area" id="chatArea">
                <div class="empty-chat" id="emptyChat">
                    <i class="fas fa-comment-dots"></i>
                    <h3>Start a conversation</h3>
                    <p>Select a match from your list to begin chatting</p>
                </div>

                <!-- Active chat will be displayed here by JavaScript -->
            </div>

            <!-- Profile View -->
            <div class="profile-view" id="profileView">
                <div class="profile-header">
                    <button class="profile-close" id="profileClose">
                        <i class="fas fa-times"></i>
                    </button>
                    <img src="https://randomuser.me/api/portraits/women/1.jpg" alt="Profile" class="profile-img">
                </div>
                <div class="profile-body">
                    <h2 class="profile-name">Emma Johnson</h2>
                    <div class="profile-age">28 â€¢ New York</div>
                    
                    <div class="profile-bio">
                        Artist and dog lover. Enjoy hiking, painting, and trying new restaurants. Looking for someone to share adventures with!
                    </div>
                    
                    <div class="profile-section">
                        <h3 class="section-title"><i class="fas fa-info-circle"></i>Details</h3>
                        <div class="profile-details">
                            <div class="detail-item">
                                <div class="detail-label">Occupation</div>
                                <div class="detail-value">Graphic Designer</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Education</div>
                                <div class="detail-value">NYU</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Height</div>
                                <div class="detail-value">5'7"</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Relationship</div>
                                <div class="detail-value">Single</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-section">
                        <h3 class="section-title"><i class="fas fa-heart"></i>Interests</h3>
                        <div class="interests">
                            <span class="interest-tag">Art</span>
                            <span class="interest-tag">Hiking</span>
                            <span class="interest-tag">Travel</span>
                            <span class="interest-tag">Photography</span>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <button class="action-btn primary-btn" id="whatsappCall">
                            <i class="fab fa-whatsapp"></i> Call
                        </button>
                        <button class="action-btn secondary-btn">
                            <i class="fas fa-heart"></i> Like
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample matches data
        const matches = [
            {
                id: 1,
                name: "Emma Johnson",
                age: 28,
                image: "https://randomuser.me/api/portraits/women/1.jpg",
                lastMessage: "Hey! How was your weekend?",
                time: "2h ago",
                unread: 3,
                online: true,
                messages: [
                    { text: "Hey there! ðŸ˜Š", time: "10:30 AM", me: false },
                    { text: "Hi Emma! How are you?", time: "10:32 AM", me: true },
                    { text: "I'm good thanks! Just finished work. How was your weekend?", time: "10:35 AM", me: false },
                    { text: "It was great! Went hiking upstate", time: "10:36 AM", me: true },
                    { text: "That sounds amazing! I love hiking too", time: "10:38 AM", me: false },
                    { text: "We should go together sometime", time: "10:40 AM", me: true },
                    { text: "I'd love that! ðŸ˜Š", time: "10:42 AM", me: false }
                ]
            },
            {
                id: 2,
                name: "Sophia Williams",
                age: 25,
                image: "https://randomuser.me/api/portraits/women/2.jpg",
                lastMessage: "The exhibition was incredible!",
                time: "1d ago",
                unread: 0,
                online: false,
                messages: [
                    { text: "Are you going to the art exhibition this weekend?", time: "Yesterday", me: false },
                    { text: "I was thinking about it! Is it worth seeing?", time: "Yesterday", me: true },
                    { text: "Definitely! It's got some amazing contemporary pieces", time: "Yesterday", me: false },
                    { text: "Maybe we could go together?", time: "Yesterday", me: true },
                    { text: "The exhibition was incredible! Thanks for suggesting it", time: "Yesterday", me: false }
                ]
            },
            {
                id: 3,
                name: "Olivia Brown",
                age: 30,
                image: "https://randomuser.me/api/portraits/women/3.jpg",
                lastMessage: "Let me know when you're free",
                time: "3d ago",
                unread: 0,
                online: true,
                messages: [
                    { text: "Hi Olivia! I enjoyed our coffee date", time: "3 days ago", me: true },
                    { text: "Me too! We should do it again soon", time: "3 days ago", me: false },
                    { text: "Absolutely! How about next week?", time: "3 days ago", me: true },
                    { text: "Let me know when you're free", time: "3 days ago", me: false }
                ]
            },
            {
                id: 4,
                name: "Ava Jones",
                age: 26,
                image: "https://randomuser.me/api/portraits/women/4.jpg",
                lastMessage: "The recipe worked perfectly!",
                time: "5d ago",
                unread: 0,
                online: false,
                messages: [
                    { text: "I tried that pasta recipe you suggested", time: "5 days ago", me: true },
                    { text: "How did it turn out?", time: "5 days ago", me: false },
                    { text: "The recipe worked perfectly! My roommates loved it", time: "5 days ago", me: false }
                ]
            }
        ];

        // DOM elements
        const sidebar = document.getElementById('sidebar');
        const menuToggle = document.getElementById('menuToggle');
        const matchesList = document.querySelector('.matches-list');
        const chatArea = document.getElementById('chatArea');
        const emptyChat = document.getElementById('emptyChat');
        const profileView = document.getElementById('profileView');
        const profileClose = document.getElementById('profileClose');
        const whatsappCall = document.getElementById('whatsappCall');
        const searchInput = document.getElementById('search');

        // Initialize the app
        renderMatches();
        setupEventListeners();

        // Render matches list
        function renderMatches(filteredMatches = null) {
            const matchesToRender = filteredMatches || matches;
            matchesList.innerHTML = '';

            matchesToRender.forEach(match => {
                const matchCard = document.createElement('div');
                matchCard.className = 'match-card';
                matchCard.dataset.id = match.id;
                
                matchCard.innerHTML = `
                    <img src="${match.image}" alt="${match.name}" class="match-img no-right-click">
                    <div class="match-info">
                        <div class="match-name">${match.name}, ${match.age}</div>
                        <div class="match-last-msg">${match.lastMessage}</div>
                    </div>
                    <div class="match-meta">
                        <div class="match-time">${match.time}</div>
                        ${match.unread > 0 ? `<div class="match-unread">${match.unread}</div>` : ''}
                    </div>
                `;
                
                matchesList.appendChild(matchCard);
            });
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });

            // Match card click
            matchesList.addEventListener('click', (e) => {
                const matchCard = e.target.closest('.match-card');
                if (matchCard) {
                    const matchId = parseInt(matchCard.dataset.id);
                    const match = matches.find(m => m.id === matchId);
                    if (match) {
                        // Set active state
                        document.querySelectorAll('.match-card').forEach(card => {
                            card.classList.remove('active');
                        });
                        matchCard.classList.add('active');
                        
                        // Render chat
                        renderChat(match);
                        
                        // Close sidebar on mobile
                        if (window.innerWidth <= 768) {
                            sidebar.classList.remove('active');
                        }
                    }
                }
            });

            // Profile close button
            profileClose.addEventListener('click', () => {
                profileView.classList.remove('active');
            });

            // WhatsApp call button
            whatsappCall.addEventListener('click', () => {
                // In a real app, this would initiate a WhatsApp call
                const phoneNumber = "15551234567"; // Example number
                window.open(`https://wa.me/${phoneNumber}`, '_blank');
            });

            // Search functionality
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                if (searchTerm === '') {
                    renderMatches();
                } else {
                    const filteredMatches = matches.filter(match => 
                        match.name.toLowerCase().includes(searchTerm) || 
                        match.lastMessage.toLowerCase().includes(searchTerm)
                    );
                    renderMatches(filteredMatches);
                }
            });
        }

        // Render chat with a match
        function renderChat(match) {
            emptyChat.style.display = 'none';
            
            chatArea.innerHTML = `
                <div class="chat-header">
                    <div class="chat-partner">
                        <img src="${match.image}" alt="${match.name}" class="chat-partner-img no-right-click">
                        <div>
                            <div class="chat-partner-name">${match.name}, ${match.age}</div>
                            <div class="chat-partner-status">
                                <i class="fas fa-circle"></i>
                                ${match.online ? 'Online' : 'Offline'}
                            </div>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="chat-action-btn" id="viewProfile">
                            <i class="fas fa-user"></i>
                        </button>
                        <button class="chat-action-btn">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="chat-action-btn">
                            <i class="fas fa-ellipsis-vertical"></i>
                        </button>
                    </div>
                </div>
                <div class="messages-container" id="messagesContainer"></div>
                <div class="message-input-container">
                    <textarea class="message-input" placeholder="Type a message..." id="messageInput"></textarea>
                    <button class="send-btn" id="sendBtn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            `;
            
            // Render messages
            const messagesContainer = document.getElementById('messagesContainer');
            match.messages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${message.me ? 'message-me' : 'message-them'}`;
                messageElement.innerHTML = `
                    ${message.text}
                    <div class="message-time">${message.time}</div>
                `;
                messagesContainer.appendChild(messageElement);
            });
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Add typing indicator after a delay
            if (!match.messages[match.messages.length - 1].me) {
                setTimeout(() => {
                    const typingIndicator = document.createElement('div');
                    typingIndicator.className = 'typing-indicator';
                    typingIndicator.innerHTML = `
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    `;
                    messagesContainer.appendChild(typingIndicator);
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    
                    // Remove after 2 seconds and add a new message
                    setTimeout(() => {
                        typingIndicator.remove();
                        
                        const replyMessages = [
                            "I was just thinking about you!",
                            "What are you up to today?",
                            "Want to grab coffee this weekend?",
                            "I saw this and thought you might like it",
                            "How's your day going? ðŸ˜Š"
                        ];
                        
                        const randomReply = replyMessages[Math.floor(Math.random() * replyMessages.length)];
                        
                        const newMessage = {
                            text: randomReply,
                            time: "Just now",
                            me: false
                        };
                        
                        match.messages.push(newMessage);
                        
                        const messageElement = document.createElement('div');
                        messageElement.className = 'message message-them';
                        messageElement.innerHTML = `
                            ${newMessage.text}
                            <div class="message-time">${newMessage.time}</div>
                        `;
                        messagesContainer.appendChild(messageElement);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    }, 2000);
                }, 1500);
            }
            
            // Setup chat event listeners
            const viewProfile = document.getElementById('viewProfile');
            const messageInput = document.getElementById('messageInput');
            const sendBtn = document.getElementById('sendBtn');
            
            viewProfile.addEventListener('click', () => {
                profileView.classList.add('active');
            });
            
            // Send message
            function sendMessage() {
                const text = messageInput.value.trim();
                if (text) {
                    const newMessage = {
                        text: text,
                        time: "Just now",
                        me: true
                    };
                    
                    match.messages.push(newMessage);
                    
                    const messageElement = document.createElement('div');
                    messageElement.className = 'message message-me';
                    messageElement.innerHTML = `
                        ${newMessage.text}
                        <div class="message-time">${newMessage.time}</div>
                    `;
                    messagesContainer.appendChild(messageElement);
                    
                    messageInput.value = '';
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    
                    // Update last message in matches list
                    match.lastMessage = text;
                    match.time = "Just now";
                    match.unread = 0;
                    renderMatches();
                    document.querySelector(`.match-card[data-id="${match.id}"]`).classList.add('active');
                    
                    // Simulate reply after 1-3 seconds
                    setTimeout(() => {
                        simulateReply(match, messagesContainer);
                    }, Math.random() * 2000 + 1000);
                }
            }
            
            sendBtn.addEventListener('click', sendMessage);
            
            messageInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
        }
        
        // Simulate a reply from the match
        function simulateReply(match, messagesContainer) {
            const replyMessages = [
                "That's interesting! Tell me more.",
                "I'd love to hear more about that!",
                "Sounds great! ðŸ˜Š",
                "What else have you been up to?",
                "We should definitely talk more about this!",
                "That's awesome!",
                "I feel the same way!",
                "Let's plan something soon!"
            ];
            
            const randomReply = replyMessages[Math.floor(Math.random() * replyMessages.length)];
            
            const newMessage = {
                text: randomReply,
                time: "Just now",
                me: false
            };
            
            // Add typing indicator
            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'typing-indicator';
            typingIndicator.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            messagesContainer.appendChild(typingIndicator);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Remove typing indicator and add message after delay
            setTimeout(() => {
                typingIndicator.remove();
                
                match.messages.push(newMessage);
                
                const messageElement = document.createElement('div');
                messageElement.className = 'message message-them';
                messageElement.innerHTML = `
                    ${newMessage.text}
                    <div class="message-time">${newMessage.time}</div>
                `;
                messagesContainer.appendChild(messageElement);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
                
                // Update last message in matches list
                match.lastMessage = newMessage.text;
                match.time = "Just now";
                renderMatches();
                document.querySelector(`.match-card[data-id="${match.id}"]`).classList.add('active');
            }, 2000);
        }
        
        // Content protection
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });
        
        document.addEventListener('keydown', (e) => {
            // Disable developer tools
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && e.key === 'I') || 
                (e.ctrlKey && e.shiftKey && e.key === 'J') || 
                (e.ctrlKey && e.key === 'U')) {
                e.preventDefault();
            }
        });
    </script>
</body>
</html>
